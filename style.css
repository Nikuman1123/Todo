body {
  font-family: 'M PLUS Rounded 1c', 'Roboto', sans-serif;
  transition: background-color 0.3s ease, color 0.3s ease;
}

body.dark {
  /* background-color: #121212; */
  background-color: #252525;
  color: #ffffff;
}

ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

h1 {
  /* background-color: teal; */
  font-size: 24px;
  color: wheat;
  text-align: center;
  padding: 16px;
}

button {
  background-color: teal;
  font-size: 16px;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
  transition: 0.2s ease;
}
button:hover {
  background-color: rgb(60, 66, 130);
}

/* ヘッダー配置 */
.app-header {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding: 16px 24px;
  background-color: teal;
  margin-bottom: 16px;
}

.app-header h1 {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  margin: 0;
}

/* テーマ切替ボタン */
.theme-btn {
  font-size: 24px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 6px 8px;
  border-radius: 8px;
  transition: background 0.2s;
}

.theme-btn:hover {
  background: rgba(0, 0, 0, 0.07);
}

/* ダークモード時（hover背景が白浮きしないように調整） */
body.dark .theme-btn:hover {
  background: rgba(255, 255, 255, 0.1);
}

.addBtn {
  margin-left: 0;
}

.filter-button {
  border-radius: 16px;
}

.filter-button:hover {
  background-color: orange;
}
.delete-btn {
  background-color: crimson;
  border-radius: 10px;
}
.delete-btn:hover {
  background-color: #ffcc00;
}

.sort-button {
  border-radius: 16px;
}

.sort-button:hover {
  background-color: orange;
}

/* 区切り線、上下余白 */
li {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 8px;
  border-bottom: 1px solid #ccc;
}

/* 左側：縮んでOK */
.left {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;
  min-width: 0;
}

/* .left span {
  font-size: 18px;
  margin-left: 8px;
} */

.right {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
  white-space: nowrap;
}

.right button {
  margin-left: 0;
  padding: 4px 8px;
}

.dueDate {
  font-size: 18px;
  color: gray;
}

.filter-button.active {
  background-color: orange;
  border: 2px solid teal;
  font-weight: bold;
}

.weatherInfo {
  margin-left: 8px;
  font-size: 0.9em;
  color: gray;
}

/* タスク文字 */
.taskText {
  font-size: 18px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* 完了タスクの見た目変更 */
li.completed .taskText,
li.completed .weatherInfo,
li.completed .dueDate {
  /* 取消線 */
  text-decoration: line-through;
  /* 透明度薄く */
  opacity: 0.5;
}

/* 期限日の入力必須エラーのメッセージ */
.error-message {
  font-size: 14px;
  margin-top: 8px;
  color: crimson;
}

/* 優先度に応じた書式 */
.priority-high {
  border-left: 4px solid crimson;
  background-color: #ffecec;
}

.priority-low {
  border-left: 4px solid teal;
  background-color: #f0f9ff;
}

/* 優先度に応じた書式：ダークモード用 */
body.dark .priority-high {
  border-left: 4px solid crimson;
  background-color: #3b1c1c; /* (濃い赤系) */
  color: #ffcccc; /* やや薄い赤系テキスト */
}

body.dark .priority-low {
  border-left: 4px solid teal;
  background-color: #163540; /* (濃い青系) */
  color: #b0dfff; /* 薄めの青テキスト */
}

.fading {
  opacity: 0;
  transition: opacity 0.3s ease;
}

.hidden {
  display: none;
}

/* sort-buttonにFontAwesomeアイコンを擬似要素で付加 */
.sort-button::after {
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
  margin-left: 0.5em;
}

/* 昇順（↑） */
.sort-asc::after {
  content: '\f062'; /* fa-arrow-up */
}

/* 降順（↓） */
.sort-desc::after {
  content: '\f063'; /* fa-arrow-down */
}

.task-visible {
  display: flex;
}

.task-hidden {
  display: none;
}

/* 通知バナーのスタイル */
.error-banner {
  background-color: #ffdddd;
  color: #a00;
  text-align: center;
  padding: 10px 15px;
  font-weight: bold;
  font-size: 0.95rem;
  border-bottom: 1px solid #d99;
  cursor: pointer;
  opacity: 0;
  transition: opacity 0.5s ease;
  z-index: 1000;
}

/* 表示時に、opacityを上げるクラス */
.error-banner.show {
  display: block;
  opacity: 1;
}

.taskEditInput {
  font-size: 18px;
  padding: 4px 6px;
  width: 100%;
  box-sizing: border-box;
}
.editContainer {
  display: flex;
  gap: 6px;
  align-items: center;
}

.editSaveBtn,
.editCancelBtn {
  font-size: 1rem;
  padding: 2px 6px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.editSaveBtn {
  background-color: teal;
  color: white;
}

.editCancelBtn {
  background-color: lightGray;
  color: black;
}

.status-area {
  padding-left: 8px;
}

.weather-label {
  font-weight: 600;
}

.weather-icon {
  min-width: 1.5rem;
  text-align: center;
}

/* スマホ対応 */
@media (max-width: 480px) {
  li {
    padding: 10px 8px;
  }

  input[type='checkbox'] {
    transform: scale(1.2);
  }

  .delete-btn {
    padding: 6px 10px;
  }

  .weatherInfo {
    display: none;
  }
}

input,
textarea {
  font-size: 16px;
}

/* Apple推奨タップ領域 */
input {
  min-height: 44px;
}

.input-row {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: nowrap;
}

/* 日付・優先度 共通 */
.input-row input,
.input-row select,
.input-row button {
  height: 44px;
  font-size: 14px;
  padding: 6px 8px;
}

/* 入力ゾーン全体を縦に積む */
.controls {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* タスク入力欄を横幅一杯 */
#taskInput {
  width: 100%;
  box-sizing: border-box;
  min-height: 44px;
  padding: 8px 12px;
}

/* 日付は固定幅（iPhoneで崩れにくい目安） */
.input-row #dueDate {
  flex: 0 0 140px;
  min-width: 120px;
}

.input-row #priority {
  flex: 0 0 auto; /* ← 伸びない＆縮まない（まずはこれで確実に止める） */
  width: 9rem; /* Normalが余裕で収まる目安。必要なら 8rem に */
}
.input-row #addBtn {
  flex: 0 0 auto;
  white-space: nowrap;
}

/* Clear All を横一杯にしない（誤タップ防止） */
#clearAll {
  width: auto; /* 100%を解除 */
  display: inline-flex; /* 中身に合わせる */
  align-items: center;
  justify-content: center;
  align-self: flex-start;
  border-radius: 4px;
}
#clearAll.hidden {
  display: none;
}

/* Add / Clear All を横並びにする行 */
.action-row {
  display: flex;
  align-items: center;
  gap: 8px; /* ボタン間の余白 */
}

/* Add は左、Clear All はその右（自然に並ぶ） */
.action-row #addBtn {
  flex: 0 0 auto;
}

.action-row #clearAll {
  flex: 0 0 auto;
}
